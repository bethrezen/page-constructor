# Раздел страницы

Раздел ["Страницы"](https://backoffice.cloud.yandex.ru/pages) в бэкофисе позволяет редактировать и создавать страницы сайта Яндекс.Облака.

На данный момент можно менять содержимое и внешний вид страницы, задавать базовую мета-информацию и публиковать страницу(без публикации страницу будут видеть только только пользователи, имеющие staff аккаунт).

## Редактирование страниц

Каждая страница в редакторе представляет собой набор блоков, которые можно располагать в разном порядке и вкладывать друг в друга.

Описание блоков задается в поле "Код" (секция `blocks`) на странице редактирования в формате YAML.

## Как работают блоки

Блок представляет элемент страницы и в коде задается набором полей, определяющих свойства этого элемента. Каждый блок должен иметь поле `type`, в котором задается тип блока.

Глобально блоки делятся на контент-блоки и контейнеры. Контент-блоки содержат какую-то информацию (текст, изображение и тд), контейнеры предназначены для компоновки контент-блоков и размещения их на странице.
Для вложения контент-блоков в контейнеры у последних используется поле `children` - в нем в виде списка перечисляются вложенные блоки. Контейнеры также можно вкладывать в контейнеры.

**Udpate:**

С переводом на механизм конструируемых страниц сервисов и главной страницы сайта был добавлен новый тип блоков - _блоки версии 2_. Их использование предполагает подход при котором страница имеет один уровень вложенности и строится из относительно крупных неделимых элементов, каждый из которых занимает всю ширину страницы и имеет одинаковые отступы сверху и снизу. Для названий типов таких блоков принято использовать шаблон `<block_name>-block`

## Фильтрация по языку и региону

Все массивы объектов можно фильтровать по языку и региону.

Условие видимости описывается в параметре when (если результат выражения будет `false` - блок будет скрыт):

`when: region == 'kz'`

Доступные переменные: `lang` и `region`.

Т.к. контент для каждого языка свой, актуальна только переменная `region`.

Значения переменных будут подставлены из соответствующего [конфига](https://bb.yandex-team.ru/projects/CLOUD/repos/www-configs/browse/langs) на сайте.

Доступные языки: `ru` и `en`.

Доступные регионы: `ru`, `kz` и `int`.

Доступные операторы сравнения:

- равно: `==`
- не равно: `!=`

Примеры:

- скрыть **Block2** в регионе **Russia (English)** _/en-ru/_:

```yaml
blocks:
  - title: 'Block1'
  - title: 'Block2'
    when: region != 'ru'
  - title: 'Block3'
```

- отображать **Block2** только в регионе **International (English)** _/en/_:

```yaml
blocks:
  - title: 'Block1'
  - title: 'Block2'
    when: region == 'int'
  - title: 'Block3'
```

## Контент-блоки

### [Header](?path=/story/компоненты-разновидности-header-ов-header--default&viewMode=docs)

### [Текст](?path=/story/компоненты-text--default&viewMode=docs)

### [Кнопка](?path=/story/компоненты-кнопки-и-ссылки-button--default&viewMode=docs)

### [Features](?path=/story/компоненты-features--default&viewMode=docs)

### [Изображение](?path=/story/компоненты-картинки-видео-datalens-imageblock--default&viewMode=docs)

### [Заголовок](?path=/story/компоненты-title--default&viewMode=docs)

### [Разделитель](?path=/story/компоненты-divider--default&viewMode=docs)

### [Ссылка](?path=/story/компоненты-кнопки-и-ссылки-link--default&viewMode=docs)

### [Поделиться](?path=/story/компоненты-share--default&viewMode=docs)

### [Таблица](?path=/story/компоненты-table--default&viewMode=docs)

### [Simple](?path=/story/блоки-simple--default&viewMode=docs)

### [Preview](?path=/story/блоки-preview--default&viewMode=docs)

## Контейнеры

Контейнеры используют сетку размеров, похожую на [bootstrap](https://bootstrap-4.ru/docs/4.1/layout/grid/).

В диапазоне возможных значений ширины экрана выделяется несколько точек - 576, 768, 1080, 1184 и задаются соответствующие им обозначения `sm`, `md`, `lg`, `xl`. Вся ширина экрана делится на 12 равных колонок. Чтобы задать сколько колонок контейнер будет занимать на определенной ширине экрана пишем соответствия вроде `md : 4`.

Такие соответствия работают в сторону увеличения экрана, например если для контейнера задать размер `md : 4`, то на всех размерах экрана, начиная с `md` контейнер будет занимать 4 колонки.

Если соответствие не задано, контейнер будет занимать 12 колонок.

Для экранов меньше `sm` используется обозначение `all`

**Пример**:

`sizes:`

> `all`: 12

> `md`: 8

Как это будет выглядеть:

- на экранах меньше `md` контейнер будет занимать 12 колонок
- на экранах размера `md` и больше контейнер будет занимать 8 колонок

Свойство `offsets` также для разных размеров экрана позволяет задать отступ слева у контейнера в колонках.

**Пример**:

`offsets:`

> `md`: 1

Начиная с размера экрана `md` у контейнера будет отступ слева в 1 колонку.

Свойства `visible` и `hidden` управляют видимостью контейнера на разных размерах экрана.

**Примеры**:

`visible`: `md` - начиная с размера `md` контейнер будет отображаться на странице

`hidden`: `lg` - начиная с размера `lg` контейнер не будет отображаться на странице

### [Контейнер](?path=/story/компоненты-container--default&viewMode=docs)

### [Секция](?path=/story/компоненты-section--default&viewMode=docs)

### [Табы](?path=/story/компоненты-кнопки-и-ссылки-tabs--default&viewMode=docs)

## Размерности используемых отступов:

`xxs: 12px`

`xs: 16px`

`s: 20px`

`m: 32px`

`l: 48px`

`xl: 64px`

`xxl: 96px`

`xxxl: 128px`

## Блоки версии 2

Каждый блок версии 2 имеет общие свойства

`anchor`: анкор блока - если для блока задается анкор и страница имеет меню, то в меню будет добавлена ссылка на этот блок

> `text: текст` - имя в блока меню страницы

> `url: текст` - ссылка на блок после #

`visible?: 'all' | 'sm' | 'md' | 'lg' | 'xl'` - задает размер экрана, начиная с которого блок будет отображаться

`resetPaddings: boolean` - позволяет обнулить стандартные для все блоков отступы сверху и снизу

#### [Общие типы полей](?id=страницы--common-types&viewMode=docs)

### [HeaderBlock](?path=/story/блоки-header--default&viewMode=docs)

### [ExtendedFeatures](?path=/story/блоки-extendedfeatures--default&viewMode=docs)

### [ContentLayout](?path=/story/блоки-contentlayout--default&viewMode=docs)

### [CardLayout](?path=/story/блоки-cardlayout--cards-with-image&viewMode=docs)

### [Slider](?path=/story/блоки-slider--default&viewMode=docs)

### Cards

Карточки для Slider и CardLayout

_Карточки являются компонентами, которые используются только совместно со слайдером или лейаутом._

Общие поля для все карточек:

`border?: 'border' | 'shadow'` - задает как будут выглядеть границы карточки (по умолчанию - `'shadow'`)

### Карточка

    `type: "card"`
    `header?`
        `title?: строка` - заголовок в хедере карточки
        `image?: url` - фоновое изображение в хедере карточки
    `text?: строка` - текст контента карточки
    `title?: строка` - заголовок контента карточки
    `link?: Link` - ссылка под контентом
    `service?:` - сервис в связке с которым работает то что указано в карточке
        `slug?: строка` - названия сервиса из url
        `name?: строка` - имя сервиса

### [Цитата](?path=/story/компоненты-quote--default&viewMode=docs)

### Карточка сервиса-превью

    `type: "service-preview-card"`;
    `slug: строка` - slug сервиса;
    `name: строка` - название сервиса;
    `description: строка` - описание сервиса;

### [Карточка туториала](?path=/story/компоненты-карточки-tutorialcard--default&viewMode=docs)

### Карточка медиа

    см. `media-block`

### Карточка баннера

    см. `banner-block`

### Карточка сервиса

    `type: "service-card"`;
    `title: строка` -  заголовок;
    `description: строка` - текст;
    `services: ServiceCardItem[]`
        `name: строка` - название сервиса
        `id: строка` - slug сервиса
        `url: строка` - url сервиса
    `link?: Link` - ссылка внизу

### [Карточка партнёра](?path=/story/компоненты-карточки-partner--default&viewMode=docs)

### [Карточка с бэкграундом](?path=/story/компоненты-карточки-backgroundcard--default&viewMode=docs)

### [Карточка с картинкой над заголовком](?path=/story/компоненты-карточки-cardwithimage--default&viewMode=docs)

### [Questions](?path=/story/блоки-questions--default&viewMode=docs)

### Calculator

Блок "Калькулятор"
Калькулятор показывается только на продуктовых страницах, для сервисов которые на данный момент его поддерживают (эти сервисы можно посмотреть в калькуляторе [тут](https://cloud.yandex.ru/prices). Не показывается на мобильных планшетах.

    `type: 'calculator-block'`
    `animated?: bool` - вкл/выкл анимации для блока (включена по умолчанию)

### Демо

Демо поддерживается только для сервисов `translate` и `speechkit`. Не показывается на мобильных планшетах

    `type: 'service-demo-block'`
    `animated?: bool` - вкл/выкл анимации для блока (включена по умолчанию)

### [Banner](?path=/story/блоки-banner--default&viewMode=docs)

### [InfoBlock](?path=/story/блоки-info--default&viewMode=docs)

### [TableBlock](?path=/story/блоки-table--default&viewMode=docs)

### [Companies](?path=/story/блоки-companies--default&viewMode=docs)

### [SecurityBlock](?path=/story/блоки-security--dark-theme&viewMode=docs)

### [Tabs](?path=/story/блоки-tabs--default&viewMode=docs)

### [Media](?path=/story/блоки-media--default&viewMode=docs)

## Свойства страницы

    `animated?: bool` -  вкл/выкл анимации для всей страницы (включена по умолчанию)
    `menu?: bool` -  признак нужно ли показывать на странице автособираемое меню
    `form?: 'contact-sales | interconnect | preview'` - задает форму, которая будет показываться в модальном окне при переходе на страницу с хешем #form
    `background?: Media` - задает фоновое видео или изображение для страницы
    `footnotes?: string[]` - список сносок внизу страницы

## Components

### [Content](?path=/story/компоненты-content--default&viewMode=docs)

### [Price Detailed](?path=/story/компоненты-карточки-pricedetailed--marked-list&viewMode=docs)
